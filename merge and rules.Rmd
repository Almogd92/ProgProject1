---
title: "merging and apriori"
author: "Almog"
date: "24/09/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(knitr)
library(dplyr)
library(arules)
library(arulesViz)
```

## Merging
```{r}
courses <- read.csv("data/courses.csv", header = TRUE, sep = ",", stringsAsFactors = FALSE)
assessments <-read.csv("data/assessments.csv", header = TRUE, sep = ",", stringsAsFactors = FALSE)
studentassessment <- read.csv("data/studentAssessment.csv", header = TRUE, sep = ",", stringsAsFactors = FALSE)
```


```{r merge1, include=FALSE}
merge1 <- merge(x = assessments, y = courses, by = c("code_module", "code_presentation"), all.x = TRUE)
```

```{r merge2, include=FALSE}
merge2 <- merge(x = merge1, y = studentassessment, by = "id_assessment", all.x = TRUE)
```

crates a table that groups by code_module, code_presentation, module_presentation_length, id_student and then calculate the final result by summing all the final score calculations of ((weight/100) times score)
does group by selected columns, removes all other columns

```{r newtable2, echo=TRUE}
newtable2 <- merge2 %>%
  group_by( code_module, code_presentation, module_presentation_length, id_student) %>%
  summarise(final_result = (sum(final_score = ((weight / 100) * score))))
 newtable2 <- newtable2[!(newtable2$final_result==0)]
```
